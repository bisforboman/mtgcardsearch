<!doctype html>

<!-- ASSIGN OUR ANGULAR MODULE -->
<html ng-app="cardSearch">
<head>
	<!-- META -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"><!-- Optimize mobile viewport -->

	<title>MTG Card Search</title>

	<!-- SCROLLS -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><!-- load bootstrap -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
	<style>
		html 					{ overflow-y:scroll; }
		body 					{ padding-top:50px; }
		.row					{ padding-bottom: 10px;}
		.cardDiv				{ background-size: cover; width: 223px; height: 311px; margin: 10px; padding: 0px; display: inline-block; clear: both;}
	</style>

	<!-- SPELLS -->
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script><!-- load angular -->

	<script src="js/controllers/main.js"></script> <!-- load up our controller -->
	<script src="js/services/card.js"></script> <!-- load our todo service -->
	<script src="js/core.js"></script> <!-- load our main application -->

</head>
<!-- SET THE CONTROLLER -->
<body ng-controller="mainController">
	<div class="container">

		<!-- HEADER AND TODO COUNT -->
		<div class="jumbotron text-center">
			<h1>MTG Card Search <span class="label label-info">{{ cards.length }}</span></h1>
		</div>

				<!-- FORM TO CREATE TODOS -->
		
		<div class="row">
			<div class="col-sm-8 col-sm-offset-2 text-center">
				<form>
					<div class="form-group">
						<!-- Text insertion -->
						<input type="text" class="form-control input-lg text-center" placeholder="Search for a magic card..." ng-model="formData.text">
					</div>

					<!-- Chosing colors -->
					<div class="form-group"> 
						<label 
							class="checkbox-inline" 
							ng-repeat="color in cardOptions.colors">
							<input 
								type="checkbox"
								value="{{color.name}}"
								ng-model="color.selected"
								name="selectedColors[]"> {{color.name}}
						</label>
					</div>

					<!-- Chosing to force colors or not  -->
					<div class="form-group"> 
						Exclude other colors?
						<label 
							class="checkbox-inline">
							<input 
								type="radio"
								ng-model="cardOptions.colorsForce"
								value='true'
								> Yes
						</label>
						<label 
							class="checkbox-inline">
							<input 
								type="radio"
								ng-model="cardOptions.colorsForce"
								value='false'
								> No
						</label>
					</div>

					<div class="form-group"> 
						What do you want to search for?
						<label 
							class="checkbox-inline">
							<input 
								type="radio"
								ng-model="cardOptions.target"
								value='name'
								> Name
						</label>
						<label 
							class="checkbox-inline">
							<input 
								type="radio"
								ng-model="cardOptions.target"
								value='type'
								> Card type
						</label>
						<label 
							class="checkbox-inline">
							<input 
								type="radio"
								ng-model="cardOptions.target"
								value='text'
								> Card text
						</label>
					</div>					

					<button type="submit" class="btn btn-primary btn-lg" ng-click="findCards()">Search</button>
				</form>
			
			</div>
		</div>


		<div class="container">
			<div class="text-center">
				<div 
					class="cardDiv"
					ng-repeat="c in cards" 
					style="
						background-image: url('http://gatherer.wizards.com/Handlers/Image.ashx?multiverseid={{c.multiverseid}}&type=card');
						">
			</div>
		</div>

		<div class="col-sm-12 text-center">
			<p class="text-center" ng-show="loading">
				<span class="fa fa-spinner fa-spin fa-3x"></span>
			</p>

			<table class="table table-striped">
				<tr>
					<th>Name</th>
					<th>Artist</th>
					<th>CMC</th>
					<th>Type</th>
					<th>Text</th>
					<th>Colors</th>
					<th>ColorIdentity</th>
				</tr>
				<tr ng-repeat="c in cards">
					<td>{{c.name}}</td>
					<td>{{c.artist}}</td>
					<td>{{c.cmc}}</td>
					<td>{{c.type}}</td>
					<td>{{c.text}}</td>
					<td>{{c.colors}}</td>
					<td>{{c.colorIdentity}}</td>
				</tr>
			</table>
		</div>			

	</div>

</body>
</html>
